<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Find the right SF Tech Week events</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 0; background: #0b0c10; color: #fff; }
      .wrap { max-width: 820px; margin: 0 auto; padding: 24px; }
      .card { background: #12141a; border: 1px solid #222631; border-radius: 12px; padding: 16px; }
      h1 { font-size: 20px; margin: 0 0 12px; }
      textarea { width: 100%; min-height: 120px; border-radius: 8px; border: 1px solid #303645; background: #0e1016; color: #fff; padding: 12px; resize: vertical; }
      button { background: #5b8cff; color: #fff; border: none; padding: 10px 14px; border-radius: 8px; cursor: pointer; }
      button[disabled] { opacity: 0.6; cursor: default; }
      .row { display: flex; gap: 8px; align-items: center; margin-top: 10px; }
      .results { margin-top: 18px; }
      .event { padding: 12px; border-bottom: 1px solid #222631; }
      .event:last-child { border-bottom: 0; }
      .event a { color: #8ab4ff; text-decoration: none; }
      .small { color: #a8b3cf; font-size: 13px; }
      .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; }
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="card">
        <h1>Tell us about you and your goals</h1>
        <p class="small">What do you build? What do you want from SF Tech Week (e.g., meet AI infra investors, find early adopters in healthcare, recruit design talent, only evenings)?</p>
        <textarea id="input" placeholder="I'm uuu and i am building an AI agent platform for sales teams. I want to meet B2B SaaS founders and angels, and attend evening events near SoMa. Prefer free or <$30."></textarea>
        <div class="row">
          <button id="go">Find the right events</button>
          <span id="status" class="small"></span>
        </div>
      </div>

      <div id="out" class="card results" hidden>
        <div class="small mono" id="prefs"></div>
        <div id="events"></div>
      </div>
    </div>

    <script>
      // Sample events data
      const eventsData = [
        {
          "event_name": "a16z speedrun AI Faire",
          "event_date": "Fri Oct 10",
          "event_time": "1:00 pm",
          "event_location": "South Beach",
          "event_description": "Please join us for the a16z speedrun AI Faire, featuring the hottest AI startups coming out of the last 5 batches.",
          "hosted_by": "a16z",
          "price": "$180",
          "event_url": "https://partiful.com/e/wDSpaj6OGV2nb833y5S2"
        },
        {
          "event_name": "a16z speedrun Demo Day (SR005)",
          "event_date": "Tue Oct 7",
          "event_time": "9:00 am",
          "event_location": "SOMA",
          "event_description": "The SR005 cohort is taking the stage for Demo Day in San Francisco during Tech Week!",
          "hosted_by": "a16z",
          "price": "Free",
          "event_url": "https://partiful.com/e/cGNtH8rVcfosm1tLtMLS"
        },
        {
          "event_name": "Breakfast & Build: AI Agent Speedrun",
          "event_date": "Wed Oct 8",
          "event_time": "8:00 am",
          "event_location": "SOMA",
          "event_description": "Fuel up with artisan coffee and SF's best bagels while participating in 30-minute AI agent building sprints.",
          "hosted_by": "Inkeep",
          "price": "Free",
          "event_url": "https://partiful.com/e/soSfN0BoeSIGpMSgAZV7"
        },
        {
          "event_name": "Bacon, Eggs & Blockchain w/ Deel & Liquifi",
          "event_date": "Tue Oct 7",
          "event_time": "9:00 am",
          "event_location": "SOMA",
          "event_description": "Because nothing pairs better with crypto than crispy bacon and bottomless coffee. Join Deel and Liquifi for a breakfast that's part brain fuel, part builder therapy, and all things web3.",
          "hosted_by": "Deel & Liquifi",
          "price": "Free",
          "event_url": "https://partiful.com/e/3SbUW6cDnlZITuGvLJ0a"
        },
        {
          "event_name": "AI x Creativity: Hedra, Descript & a16z Panel + Happy Hour",
          "event_date": "Wed Oct 8",
          "event_time": "4:00 pm",
          "event_location": "SOMA",
          "event_description": "We're bringing together some of the brightest minds in AI and marketing for SF Tech Week.",
          "hosted_by": "Hedra, Descript & a16z",
          "price": "Free",
          "event_url": "https://partiful.com/e/l7KWK1WhNEbaZCgiKEqE"
        }
      ];

      const $ = (id) => document.getElementById(id);
      const btn = $('go');
      const input = $('input');
      const status = $('status');
      const out = $('out');
      const prefsEl = $('prefs');
      const eventsEl = $('events');

      function recommendEvents(message, limit = 10) {
        const keywords = message.toLowerCase();
        
        // Simple keyword matching
        const scoredEvents = eventsData.map(event => {
          let score = 0;
          const text = `${event.event_name} ${event.event_description} ${event.hosted_by}`.toLowerCase();
          
          // Score based on keyword matches
          if (keywords.includes('ai') && text.includes('ai')) score += 3;
          if (keywords.includes('startup') && text.includes('startup')) score += 2;
          if (keywords.includes('founder') && text.includes('founder')) score += 2;
          if (keywords.includes('investor') && text.includes('investor')) score += 2;
          if (keywords.includes('evening') && event.event_time && event.event_time.includes('pm')) score += 1;
          if (keywords.includes('free') && event.price === 'Free') score += 1;
          if (keywords.includes('blockchain') && text.includes('blockchain')) score += 2;
          if (keywords.includes('crypto') && text.includes('crypto')) score += 2;
          if (keywords.includes('web3') && text.includes('web3')) score += 2;
          
          return { ...event, score };
        });
        
        // Sort by score and return top results
        return scoredEvents
          .sort((a, b) => b.score - a.score)
          .slice(0, limit);
      }

      async function recommend() {
        const message = input.value.trim();
        if (!message) return;
        btn.disabled = true; status.textContent = 'Thinking…';
        out.hidden = true; eventsEl.innerHTML = ''; prefsEl.textContent = '';
        
        try {
          // Simulate API delay
          await new Promise(resolve => setTimeout(resolve, 500));
          
          const results = recommendEvents(message, 10);
          
          prefsEl.textContent = `Found ${results.length} matching events for: "${message}"`;
          eventsEl.innerHTML = results.map(r => `
            <div class="event">
              <div><strong>${r.event_name}</strong></div>
              <div class="small">${r.event_date || ''} ${r.event_time || ''} — ${r.event_location || 'TBA'} — ${r.price || ''}</div>
              <div class="small">Host: ${r.hosted_by || '—'}</div>
              <div class="small">${r.event_description}</div>
              <div><a href="${r.event_url}" target="_blank" rel="noopener">View details ↗</a></div>
            </div>
          `).join('');
          out.hidden = false;
        } catch (e) {
          alert('Error: ' + e.message);
        } finally {
          btn.disabled = false; status.textContent = '';
        }
      }

      btn.addEventListener('click', recommend);
      input.addEventListener('keydown', (e) => { if (e.key === 'Enter' && (e.metaKey || e.ctrlKey)) recommend(); });
    </script>
  </body>
</html>
